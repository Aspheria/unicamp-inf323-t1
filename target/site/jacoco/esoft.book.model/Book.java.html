<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="pt"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Book.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">inf323-tarefa1</a> &gt; <a href="index.source.html" class="el_package">esoft.book.model</a> &gt; <span class="el_source">Book.java</span></div><h1>Book.java</h1><pre class="source lang-java linenums">// package esoft.book.model;
// import esoft.com.util.Validator;


// public class Book &lt;String&gt; {

//     // Regex to match ISBN (either ISBN-10 or ISBN-13)
//     private static final String ISBN_REGEX = &quot;(^\\d{9}[\\dX]$)|(^\\\\d{13}$)&quot;;
//     // Regex to match strings with letters, including accented characters, spaces, and ,.&amp;'-
//     private static final String GENERAL_STRING_REGEX = &quot;^[\\p{L} ,.&amp;'-]+$&quot;;
//     // Define the maximum length for various fields
//     private static final int PUBLISHER_MAX_LENGTH = 100;
//     private static final int DESC_MAX_LENGTH = 1000;
//     private static final int THUMBNAIL_MAX_LENGTH = 200;
//     private static final int IMAGE_MAX_LENGTH = 200;
//     private static final int DIMENSIONS_MAX_LENGTH = 50;


//     public Book(String name) {
//         if (name == null)
//         throw new RuntimeException();
//         this.name = name;
//     }


// }

package esoft.book.model;

import esoft.com.exception.NullValueException;
import esoft.com.util.Validator;

public class Book {
    private String name;
    private String pubDate;
    private String avail;
    private String subject;
    private String backing;
    private String author;
    private String publisher;
    private String desc;
    private String thumbnail;
    private String image;
    // private String dimensions;
    private String isbn;
    private double srp;
    private int page;
    
    private static final String GENERAL_STRING_REGEX = &quot;^[\\p{L} ,.&amp;'-]+$&quot;;
    private static final int PUBLISHER_MAX_LENGTH = 100;
    private static final int DESC_MAX_LENGTH = 1000;
    private static final int THUMBNAIL_MAX_LENGTH = 200;
    private static final int IMAGE_MAX_LENGTH = 200;
    // private static final int DIMENSIONS_MAX_LENGTH = 50;



    public static void validateNotNull(Object value, String message) {
<span class="nc bnc" id="L59" title="All 2 branches missed.">    if (value == null) {</span>
<span class="nc" id="L60">        throw new NullValueException(message); // Sem necessidade de adicionar &quot;cannot be null&quot; novamente</span>
    }
<span class="nc" id="L62">}</span>

    // Atributos e construtor...

    public Book(String name, String pubDate, 
                String avail, String subject, 
                String backing, String author,
                String publisher, String desc, 
                String thumbnail, String image, 
                String isbn,
<span class="fc" id="L72">                double srp, int page) {</span>

        
<span class="fc" id="L75">        Validator.validateNotNull(name, &quot;Name cannot be null&quot;);</span>

           
<span class="fc" id="L78">        Validator.validateNotNull(pubDate, &quot;Publication Date cannot be null&quot;);</span>
<span class="fc" id="L79">        Validator.validateNotNull(avail, &quot;Availability cannot be null&quot;);</span>
<span class="fc" id="L80">        Validator.validateNotNull(subject, &quot;Subject cannot be null&quot;);</span>
<span class="fc" id="L81">        Validator.validateNotNull(backing, &quot;Backing cannot be null&quot;);</span>
<span class="fc" id="L82">        Validator.validateNotNull(author, &quot;Author cannot be null&quot;);</span>

<span class="fc" id="L84">        Validator.validateString(publisher, &quot;Publisher&quot;, GENERAL_STRING_REGEX);</span>
<span class="fc" id="L85">        Validator.validateStringMaxLength(publisher, &quot;Publisher exceeds max length&quot;, PUBLISHER_MAX_LENGTH);</span>

<span class="fc" id="L87">        Validator.validateString(desc, &quot;Description&quot;, GENERAL_STRING_REGEX);</span>
<span class="fc" id="L88">        Validator.validateStringMaxLength(desc, &quot;Description exceeds max length&quot;, DESC_MAX_LENGTH);</span>

<span class="fc" id="L90">        Validator.validateString(thumbnail, &quot;Thumbnail&quot;, GENERAL_STRING_REGEX);</span>
<span class="fc" id="L91">        Validator.validateStringMaxLength(thumbnail, &quot;Thumbnail exceeds max length&quot;, THUMBNAIL_MAX_LENGTH);</span>

<span class="fc" id="L93">        Validator.validateString(image, &quot;Image&quot;, GENERAL_STRING_REGEX);</span>
<span class="fc" id="L94">        Validator.validateStringMaxLength(image, &quot;Image exceeds max length&quot;, IMAGE_MAX_LENGTH);</span>

        // Validator.validateString(dimensions, &quot;Dimensions&quot;, GENERAL_STRING_REGEX);
        // Validator.validateStringMaxLength(dimensions, &quot;Dimensions exceed max length&quot;, DIMENSIONS_MAX_LENGTH);

<span class="fc" id="L99">        Validator.validateString(isbn, &quot;ISBN&quot;, &quot;(^\\d{9}[\\dX]$)|(^\\d{13}$)&quot;);</span>

<span class="fc" id="L101">        Validator.validatePositive(srp, &quot;SRP must be positive&quot;);</span>
<span class="fc" id="L102">        Validator.validatePositive(page, &quot;Page count must be positive&quot;);</span>
        

        // Inicialização dos atributos...
<span class="fc" id="L106">        this.name = name;</span>
<span class="fc" id="L107">        this.pubDate = pubDate;</span>
<span class="fc" id="L108">        this.avail = avail;</span>
<span class="fc" id="L109">        this.subject = subject;</span>
<span class="fc" id="L110">        this.backing = backing;</span>
<span class="fc" id="L111">        this.author = author;</span>
<span class="fc" id="L112">        this.publisher = publisher;</span>
<span class="fc" id="L113">        this.desc = desc;</span>
<span class="fc" id="L114">        this.thumbnail = thumbnail;</span>
<span class="fc" id="L115">        this.image = image;</span>
<span class="fc" id="L116">        this.isbn = isbn;</span>
<span class="fc" id="L117">        this.srp = srp;</span>
<span class="fc" id="L118">        this.page = page;</span>
<span class="fc" id="L119">    }</span>
    
    @SuppressWarnings(&quot;unused&quot;)
    private void validatePositive(double value, String errorMessage) {
<span class="nc bnc" id="L123" title="All 2 branches missed.">        if (value &lt;= 0) {</span>
<span class="nc" id="L124">            throw new IllegalArgumentException(errorMessage);</span>
        }
<span class="nc" id="L126">    }</span>

    @SuppressWarnings(&quot;unused&quot;)
    private void validatePositive(int value, String errorMessage) {
<span class="nc bnc" id="L130" title="All 2 branches missed.">        if (value &lt;= 0) {</span>
<span class="nc" id="L131">            throw new IllegalArgumentException(errorMessage);</span>
        }
<span class="nc" id="L133">    }</span>
    // Getters e outros métodos...
    public String getName() {
<span class="fc" id="L136">        return this.name;</span>
    }

    public String getIsbn() {
<span class="fc" id="L140">        return this.isbn;</span>
    }

    public double getSrp() {
<span class="fc" id="L144">        return this.srp;</span>
    }

    public int getPage() {
<span class="fc" id="L148">        return this.page;</span>
    }
    public String getAuthor() {
<span class="nc" id="L151">        return this.author;</span>
    }

    public Object getName(Object object) {
<span class="nc" id="L155">        throw new UnsupportedOperationException(&quot;Unimplemented method 'getName'&quot;);</span>
    }

}



</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>